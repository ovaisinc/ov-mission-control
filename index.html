<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ov Command Center</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background: #0a0a0f; }
        .glass { background: rgba(17, 24, 39, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.05); }
        .gradient-text { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .pulse-dot { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        .client-card { transition: all 0.2s; }
        .client-card:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(99, 102, 241, 0.2); }
        .priority-high { border-left: 3px solid #ef4444; }
        .priority-medium { border-left: 3px solid #f59e0b; }
        .priority-low { border-left: 3px solid #10b981; }
        .tab-active { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); }
        .money-positive { color: #10b981; }
        .money-negative { color: #ef4444; }
        .slide-in { animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(20px); } to { opacity: 1; transform: translateX(0); } }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .mobile-stack { flex-direction: column !important; }
            .mobile-grid-1 { grid-template-columns: 1fr !important; }
            .mobile-grid-2 { grid-template-columns: repeat(2, 1fr) !important; }
            .mobile-p-2 { padding: 0.5rem !important; }
            .mobile-text-sm { font-size: 0.875rem !important; }
            .mobile-hidden { display: none !important; }
            .mobile-full { width: 100% !important; }
            .mobile-scroll { overflow-x: auto; white-space: nowrap; }
            .mobile-wrap { white-space: normal !important; }
            
            /* iOS Select Fix */
            select {
                -webkit-appearance: menulist !important;
                appearance: menulist !important;
                background-color: #1f2937 !important;
                color: white !important;
                font-size: 16px !important; /* Prevents iOS zoom */
            }
            
            optgroup {
                background-color: #111827 !important;
                color: #9ca3af !important;
                font-weight: 600 !important;
            }
            
            option {
                background-color: #1f2937 !important;
                color: white !important;
                padding: 12px !important;
            }
        }
    </style>
</head>
<body class="text-gray-100 min-h-screen">
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // DOCUMENTS LIBRARY
        const documentsLibrary = [
            { 
                id: 1, 
                title: "AI Agent Implementation Blueprint - FACE Amusement", 
                type: "Ov Theory (Legacy)", 
                client: "FACE Amusement",
                date: "2026-02-06", 
                description: "Comprehensive 14-page automation roadmap with 11 AI agents",
                url: "https://ovaisinc.github.io/ov-mission-control/docs/face-blueprint.html",
                tags: ["Agents", "Automation", "Ov Theory"]
            },
            { 
                id: 2, 
                title: "AI Transformation Audit Template", 
                type: "Chohan", 
                client: "Template",
                date: "2026-02-07", 
                description: "10-slide presentation template for FEC industry audits",
                url: "#",
                tags: ["Presentation", "Audit", "Chohan"]
            },
            { 
                id: 3, 
                title: "MCP Server Development Guide", 
                type: "Technical", 
                client: "Internal",
                date: "2026-02-07", 
                description: "How to build MCP servers for client integrations",
                url: "#",
                tags: ["MCP", "Technical", "Integration"]
            },
            { 
                id: 4, 
                title: "HIPAA Compliance Checklist", 
                type: "Research", 
                client: "AFT",
                date: "2026-02-05", 
                description: "Audit requirements for dental software",
                url: "#",
                tags: ["HIPAA", "Compliance", "Healthcare"]
            },
            { 
                id: 5, 
                title: "Invoice Matching Algorithm Research", 
                type: "Research", 
                client: "Adtime",
                date: "2026-02-05", 
                description: "OCR + automated reconciliation patterns",
                url: "#",
                tags: ["OCR", "Automation", "Research"]
            },
            { 
                id: 6, 
                title: "AI Audit Service Offerings", 
                type: "Chohan", 
                client: "Chohan",
                date: "2026-02-05", 
                description: "Service tiers and pricing for AI audits",
                url: "#",
                tags: ["Services", "Pricing", "Chohan"]
            }
        ];
        
        // CLIENT DATA
        const clientsData = {
            FACE: {
                name: "FACE Amusement (Ov Theory Legacy)",
                shortName: "FACE Amusement",
                color: "#6366f1",
                isLegacy: true,
                legacyBrand: "Ov Theory",
                monthlyRevenue: 3700,
                revenue: 44400,
                costs: 12000,
                profit: 32400,
                agents: 11,
                lastContacted: "2026-02-05",
                contacts: [
                    { name: "Tom", role: "CTO", email: "tom@face.com" },
                    { name: "Cash", role: "Operations", email: "cash@face.com" }
                ],
                research: [
                    { title: "Sphere platform capabilities", date: "2026-02-05", summary: "AI-powered business intelligence platform" },
                    { title: "Power BI dashboard best practices", date: "2026-02-04", summary: "Real-time KPI tracking for amusement venues" }
                ],
                meetingNotes: [
                    { date: "2026-02-05", attendees: "Tom", notes: "Discussed Sphere integration and agent workflow" }
                ],
                documents: [1]
            },
            Adtime: {
                name: "Adtime Marketing",
                color: "#f59e0b",
                monthlyRevenue: 1600,
                revenue: 19200,
                costs: 5000,
                profit: 14200,
                documents: [5]
                agents: 0,
                lastContacted: "2026-02-06",
                contacts: [
                    { name: "Client Rep", role: "Primary", email: "client@adtime.com" }
                ],
                research: [
                    { title: "Invoice matching algorithms", date: "2026-02-05", summary: "OCR + automated reconciliation" },
                    { title: "Billboard software APIs", date: "2026-02-03", summary: "Integration options for outdoor advertising" }
                ],
                meetingNotes: [
                    { date: "2026-02-06", attendees: "Client", notes: "Received $550K check, discussed portal integration" }
                ]
            },
            AFT: {
                name: "Almost Free Teeth",
                color: "#06b6d4",
                monthlyRevenue: 3100,
                revenue: 37200,
                costs: 8000,
                profit: 29200,
                agents: 0,
                lastContacted: "2026-02-04",
                contacts: [
                    { name: "Kristal", role: "Dedicated Sleep POC", email: "kristal@dedicatedsleep.com" },
                    { name: "Isac", role: "Team Lead", email: "isac@almostfreeteeth.com" }
                ],
                research: [
                    { title: "HIPAA compliance checklist", date: "2026-02-05", summary: "Audit requirements for dental software" },
                    { title: "AI messaging for healthcare", date: "2026-02-04", summary: "Patient communication automation" }
                ],
                meetingNotes: [],
                documents: [4]
            },
            Chohan: {
                name: "Chohan",
                color: "#ec4899",
                revenue: 0,
                costs: 0,
                profit: 0,
                isInternal: true,
                agents: 0,
                lastContacted: null,
                contacts: [
                    { name: "OV", role: "Founder", email: "ov@chohan.com" }
                ],
                research: [
                    { title: "AI Audit service offerings", date: "2026-02-05", summary: "Service tiers and pricing for AI audits" },
                    { title: "Agent development best practices", date: "2026-02-04", summary: "Framework for building client agents" }
                ],
                meetingNotes: [],
                documents: [2, 3, 6]
            },
            AbbVie: {
                name: "AbbVie",
                color: "#059669",
                isJob: true,
                agents: 0,
                lastContacted: "2026-02-06",
                contacts: [
                    { name: "Manager", role: "Direct Report", email: "manager@abbvie.com" }
                ],
                research: [
                    { title: "LBE Process Documentation", date: "2026-02-05", summary: "Leadership Business Excellence framework" }
                ],
                meetingNotes: [
                    { date: "2026-02-06", attendees: "Elissa, Susan", notes: "Need to respond about M21-558" }
                ]
            },
            Jamaat: {
                name: "Chicago Jamaat",
                color: "#d97706",
                isCommunity: true,
                role: "Motamid",
                agents: 0,
                lastContacted: "2026-02-06",
                contacts: [
                    { name: "Jamaat President", role: "Leadership", email: "president@chicagojamaat.org" }
                ],
                research: [
                    { title: "Event Planning Checklist", date: "2026-02-05", summary: "Venue, catering, logistics for jamaat events" }
                ],
                meetingNotes: [
                    { date: "2026-02-06", attendees: "Jazib, Fahad", notes: "Reports due tonight" }
                ]
            }
        };
        
        // ALL TASKS
        const allTasks = [
            // FACE Tasks
            { id: 1, title: "Send Tom the agent workflow", category: "FACE", priority: "high", status: "pending", due: "Today", type: "business", estimatedTime: 60 },
            { id: 2, title: "Play with Sphere access (Tom gave access)", category: "FACE", priority: "high", status: "pending", due: "Today", type: "business", estimatedTime: 45 },
            { id: 3, title: "Send Power BI updates to Upwork dev", category: "FACE", priority: "high", status: "pending", due: "This week", type: "business", estimatedTime: 30 },
            { id: 4, title: "Meeting with Cash - new power dashboard", category: "FACE", priority: "high", status: "pending", due: "Upcoming", type: "business", estimatedTime: 60 },
            // Adtime Tasks
            { id: 5, title: "Finish invoice match system", category: "Adtime", priority: "high", status: "pending", due: "Today", type: "business" },
            { id: 6, title: "Integrate invoice match + billboard software to portal", category: "Adtime", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 7, title: "Refinish MyBody website", category: "Adtime", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 8, title: "Refinish List Home Flat Fee website", category: "Adtime", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 9, title: "Deposit $550,000 check from Adtime", category: "Adtime", priority: "high", status: "pending", due: "Today", type: "business" },
            { id: 10, title: "Meeting at 5:30 with Adtime's client", category: "Adtime", priority: "high", status: "pending", due: "Today 5:30 PM", type: "business" },
            // AFT Tasks
            { id: 11, title: "Debug entire software process", category: "AFT", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 12, title: "Finish AI messaging portion", category: "AFT", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 13, title: "Follow up with Kristal - get demo done for Dedicated Sleep", category: "AFT", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 14, title: "Fix benefits verification", category: "AFT", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 15, title: "Reach out to Isac - ensure his team is using it", category: "AFT", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 16, title: "Get HIPAA audit done", category: "AFT", priority: "high", status: "pending", due: "This week", type: "business" },
            // CHO (Chohan) Admin Tasks
            { id: 20, title: "Update Chohan website - add portfolio section", category: "Chohan", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 21, title: "Add team photos to Chohan website", category: "Chohan", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 22, title: "Write About Me section for Chohan", category: "Chohan", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 23, title: "Create AI Audit service page", category: "Chohan", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 24, title: "Update Chohan branding and messaging", category: "Chohan", priority: "medium", status: "pending", due: "This month", type: "business" },
            // AbbVie Job Tasks
            { id: 30, title: "Finish LBE for Monday meeting", category: "AbbVie", priority: "high", status: "pending", due: "Monday", type: "business" },
            { id: 31, title: "Resubmit Ross for H26-142", category: "AbbVie", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 32, title: "Submit Ross for M23-055", category: "AbbVie", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 33, title: "Submit Ross for M25-631", category: "AbbVie", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 34, title: "Submit Ross for M24-741", category: "AbbVie", priority: "high", status: "pending", due: "This week", type: "business" },
            { id: 35, title: "Do costings that Khris sent", category: "AbbVie", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 36, title: "Power BI changes - CCC vs AMP comments from Excel", category: "AbbVie", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 37, title: "Respond to Elissa and Susan via Teams - M21-558 (2015-701-008)", category: "AbbVie", priority: "high", status: "pending", due: "Today", type: "business" },
            // Jamaat (Motamid) Tasks
            { id: 40, title: "Submit Motamid report - TONIGHT", category: "Jamaat", priority: "high", status: "pending", due: "Tonight", type: "business" },
            { id: 41, title: "Follow up with Jazib - submit his report", category: "Jamaat", priority: "high", status: "pending", due: "Tonight", type: "business" },
            { id: 42, title: "Follow up with Fahad - submit his report", category: "Jamaat", priority: "high", status: "pending", due: "Tonight", type: "business" },
            { id: 43, title: "Organize upcoming jamaat event", category: "Jamaat", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 44, title: "Maintenance scheduling for jamaat center", category: "Jamaat", priority: "medium", status: "pending", due: "This week", type: "business" },
            { id: 45, title: "Create efficient Motamid workflow/system", category: "Jamaat", priority: "medium", status: "pending", due: "This week", type: "business" },
            // PERSONAL TASKS
            { id: 101, title: "Pay parking ticket", category: "Personal", priority: "medium", status: "pending", due: "This week", type: "personal" },
            { id: 102, title: "Email village HOA about fence issue", category: "Personal", priority: "low", status: "pending", due: "Soon", type: "personal" },
            { id: 103, title: "Schedule dentist appointment", category: "Personal", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 104, title: "Buy groceries for weekend", category: "Personal", priority: "low", status: "pending", due: "Saturday", type: "personal" },
            { id: 105, title: "Pick up Adderall and steroids from Target", category: "Personal", priority: "high", status: "pending", due: "Today", type: "personal" },
            { id: 106, title: "Email Kris from the village back", category: "Personal", priority: "medium", status: "pending", due: "This week", type: "personal" },
            { id: 107, title: "Reminder: ABT coming tomorrow for stove", category: "Personal", priority: "high", status: "pending", due: "Tomorrow", type: "personal" },
            // SHTF / EMERGENCY PREP
            { id: 201, title: "üéí Get camping/survival backpack", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 202, title: "‚õ∫ Camp stove (propane/butane)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 203, title: "üó∫Ô∏è Paper maps of local area + state", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 204, title: "üìª Hand-crank emergency radio (NOAA/AM/FM)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 205, title: "üíä Emergency antibiotics (doxy, amoxicillin, etc)", category: "SHTF", priority: "high", status: "pending", due: "This month", type: "personal" },
            { id: 206, title: "ü•´ 30-year emergency food supply", category: "SHTF", priority: "high", status: "pending", due: "This month", type: "personal" },
            { id: 207, title: "üíß Water storage containers (5+ gallon)", category: "SHTF", priority: "high", status: "pending", due: "This month", type: "personal" },
            { id: 208, title: "üîå Portable generator (solar + gas)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 209, title: "‚öôÔ∏è Hand-crank water well pump", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 210, title: "üî¶ Flashlights + headlamps (crank/solar)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 211, title: "üîã Rechargeable batteries + solar charger", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 212, title: "üî• Fire starters (ferro rod, matches, lighters)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 213, title: "üè• First aid kit (trauma + basic)", category: "SHTF", priority: "high", status: "pending", due: "This month", type: "personal" },
            { id: 214, title: "üî™ Multi-tool + fixed blade knife", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 215, title: "üõ°Ô∏è Body armor / plates", category: "SHTF", priority: "low", status: "pending", due: "This month", type: "personal" },
            { id: 216, title: "üî´ Defense items (as legally allowed)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 217, title: "üí∞ Emergency cash ($5k+ in small bills)", category: "SHTF", priority: "high", status: "pending", due: "This month", type: "personal" },
            { id: 218, title: "ü•à Gold/silver coins for barter", category: "SHTF", priority: "low", status: "pending", due: "This month", type: "personal" },
            { id: 219, title: "üßº Hygiene supplies (soap, sanitizer, wipes)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 220, title: "üß• Cold weather gear + boots", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 221, title: "üõ¢Ô∏è Fuel storage (gas + stabilizer)", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
            { id: 222, title: "üå± Seeds for gardening (heirloom)", category: "SHTF", priority: "low", status: "pending", due: "This month", type: "personal" },
            { id: 223, title: "üì± Faraday bag for electronics", category: "SHTF", priority: "medium", status: "pending", due: "This month", type: "personal" },
        ];
        
        // COMPONENTS
        function Dashboard({ onSelectClient, tasks, onToggleTask }) {
            const [searchQuery, setSearchQuery] = useState("");
            const businessTasks = tasks.filter(t => t.type === "business" && t.status === "pending");
            const personalTasks = tasks.filter(t => t.type === "personal" && t.status === "pending");
            const externalClients = Object.values(clientsData).filter(c => !c.isInternal && !c.isJob && !c.isCommunity);
            const totalRevenue = externalClients.reduce((sum, c) => sum + (c.revenue || 0), 0);
            const totalProfit = externalClients.reduce((sum, c) => sum + (c.profit || 0), 0);
            
            // Urgency counts
            const urgentTasks = tasks.filter(t => t.status === "pending" && (t.due.includes("Today") || t.due.includes("Tonight")));
            const highPriorityTasks = tasks.filter(t => t.status === "pending" && t.priority === "high");
            
            // Filter tasks based on search
            const filteredTasks = searchQuery 
                ? tasks.filter(t => t.title.toLowerCase().includes(searchQuery.toLowerCase()) || t.category.toLowerCase().includes(searchQuery.toLowerCase()))
                : tasks;
            
            return (
                <div className="slide-in">
                    {/* Search Bar */}
                    <div className="mb-4">
                        <div className="relative">
                            <input
                                type="text"
                                placeholder="üîç Search tasks..."
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                className="w-full bg-gray-800 text-white px-4 py-3 pl-10 rounded-lg border border-gray-700 focus:outline-none focus:border-indigo-500"
                            />
                            {searchQuery && (
                                <button 
                                    onClick={() => setSearchQuery("")}
                                    className="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white"
                                >
                                    ‚úï
                                </button>
                            )}
                        </div>
                        {searchQuery && (
                            <div className="mt-2 text-sm text-gray-400">
                                Found {filteredTasks.filter(t => t.status === "pending").length} matching tasks
                            </div>
                        )}
                    </div>
                    
                    {/* Urgency Alert Banner */}
                    {urgentTasks.length > 0 && !searchQuery && (
                        <div className="bg-red-900/30 border border-red-700 rounded-xl p-3 mb-4 flex items-center justify-between">
                            <div className="flex items-center gap-2">
                                <span className="text-2xl">üî•</span>
                                <span className="text-red-300 font-medium">{urgentTasks.length} task{urgentTasks.length > 1 ? 's' : ''} due today/tonight!</span>
                            </div>
                            <span className="text-xs text-red-400">Check "Due Today" section</span>
                        </div>
                    )}
                    
                    {/* Overview Stats */}
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8">
                        <div className="glass rounded-xl p-3 md:p-5">
                            <div className="text-2xl md:text-3xl font-bold text-indigo-400">{businessTasks.length}</div>
                            <div className="text-xs md:text-sm text-gray-400 mt-1">Business Tasks</div>
                        </div>
                        <div className="glass rounded-xl p-3 md:p-5">
                            <div className="text-2xl md:text-3xl font-bold text-amber-400">{personalTasks.length}</div>
                            <div className="text-xs md:text-sm text-gray-400 mt-1">Personal Tasks</div>
                        </div>
                        <div className="glass rounded-xl p-3 md:p-5">
                            <div className="text-2xl md:text-3xl font-bold money-positive">${(totalRevenue/1000).toFixed(0)}k</div>
                            <div className="text-xs md:text-sm text-gray-400 mt-1">Total Revenue</div>
                        </div>
                        <div className="glass rounded-xl p-3 md:p-5">
                            <div className="text-2xl md:text-3xl font-bold money-positive">${(totalProfit/1000).toFixed(0)}k</div>
                            <div className="text-xs md:text-sm text-gray-400 mt-1">Total Profit</div>
                        </div>
                    </div>
                    
                    {/* Roles & Clients Cards */}
                    <h2 className="text-lg md:text-xl font-semibold mb-3 md:mb-4">Your Roles & Clients</h2>
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4 mb-6 md:mb-8">
                        {Object.entries(clientsData).map(([key, client]) => {
                            const clientAllTasks = tasks.filter(t => t.category === key);
                            const clientPendingTasks = clientAllTasks.filter(t => t.status === "pending");
                            const clientCompletedTasks = clientAllTasks.filter(t => t.status === "done");
                            const progressPercent = clientAllTasks.length > 0 ? Math.round((clientCompletedTasks.length / clientAllTasks.length) * 100) : 0;
                            
                            // Calculate days since last contact
                            const daysSinceContact = client.lastContacted ? Math.floor((new Date() - new Date(client.lastContacted)) / (1000 * 60 * 60 * 24)) : null;
                            const contactStatus = daysSinceContact === null ? "Never" : daysSinceContact === 0 ? "Today" : daysSinceContact === 1 ? "Yesterday" : `${daysSinceContact} days ago`;
                            const contactColor = daysSinceContact === null ? "text-gray-500" : daysSinceContact <= 3 ? "text-green-400" : daysSinceContact <= 7 ? "text-amber-400" : "text-red-400";
                            
                            return (
                                <div 
                                    key={key}
                                    onClick={() => onSelectClient(key)}
                                    className="client-card glass rounded-xl p-3 md:p-5 cursor-pointer"
                                    style={{ borderTop: `3px solid ${client.color}` }}
                                >
                                    <div className="flex items-center justify-between mb-2 md:mb-3">
                                        <h3 className="font-semibold text-base md:text-lg">{client.name}</h3>
                                        <div className="flex items-center gap-2">
                                            {client.lastContacted !== undefined && (
                                                <span className={`text-xs ${contactColor}`} title="Last contacted">
                                                    üìû {contactStatus}
                                                </span>
                                            )}
                                            {client.isInternal ? (
                                                <div className="text-xs bg-pink-900/50 text-pink-400 px-2 py-1 rounded">Internal</div>
                                            ) : (
                                                <div className="text-xs bg-gray-800 px-2 py-1 rounded">{clientPendingTasks.length} tasks</div>
                                            )}
                                        </div>
                                    </div>
                                    
                                    {/* Progress Bar */}
                                    {clientAllTasks.length > 0 && (
                                        <div className="mb-3">
                                            <div className="flex justify-between text-xs mb-1">
                                                <span className="text-gray-400">Progress</span>
                                                <span className="text-gray-300">{progressPercent}% ({clientCompletedTasks.length}/{clientAllTasks.length})</span>
                                            </div>
                                            <div className="w-full bg-gray-800 rounded-full h-2">
                                                <div 
                                                    className="h-2 rounded-full transition-all duration-500" 
                                                    style={{ width: `${progressPercent}%`, backgroundColor: client.color }}
                                                ></div>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {client.isInternal ? (
                                        <div className="space-y-2 text-sm">
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Type</span>
                                                <span className="text-pink-400">Your Company</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Admin Tasks</span>
                                                <span className="text-white">{clientPendingTasks.length}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Services</span>
                                                <span className="text-gray-300">AI Audits, Agents</span>
                                            </div>
                                        </div>
                                    ) : client.isJob ? (
                                        <div className="space-y-2 text-sm">
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Type</span>
                                                <span className="text-green-400">Employment</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Work Tasks</span>
                                                <span className="text-white">{clientPendingTasks.length}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Company</span>
                                                <span className="text-gray-300">Pharma/Biotech</span>
                                            </div>
                                        </div>
                                    ) : client.isCommunity ? (
                                        <div className="space-y-2 text-sm">
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Type</span>
                                                <span className="text-amber-400">Community Role</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Your Role</span>
                                                <span className="text-white">{client.role}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Tasks</span>
                                                <span className="text-gray-300">{clientPendingTasks.length}</span>
                                            </div>
                                        </div>
                                    ) : (
                                        <div className="space-y-2 text-sm">
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Monthly</span>
                                                <span className="money-positive">${client.monthlyRevenue.toLocaleString()}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Annual</span>
                                                <span className="text-gray-300">${client.revenue.toLocaleString()}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span className="text-gray-400">Profit</span>
                                                <span className="money-positive">${client.profit.toLocaleString()}</span>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}
                        
                        {/* SHTF Emergency Prep Card */}
                        <div 
                            onClick={() => onSelectClient('shtf')}
                            className="client-card glass rounded-xl p-3 md:p-5 cursor-pointer"
                            style={{ borderTop: `3px solid #dc2626` }}
                        >
                            <div className="flex items-center justify-between mb-2 md:mb-3">
                                <h3 className="font-semibold text-base md:text-lg">üéí Emergency Prep</h3>
                                <div className="text-xs bg-red-900/50 text-red-400 px-2 py-1 rounded">
                                    {tasks.filter(t => t.category === "SHTF" && t.status === "pending").length} items
                                </div>
                            </div>
                            <div className="space-y-2 text-sm">
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Status</span>
                                    <span className="text-red-400">{Math.round((tasks.filter(t => t.category === "SHTF" && t.status === "done").length / tasks.filter(t => t.category === "SHTF").length) * 100) || 0}% Ready</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Priority</span>
                                    <span className="text-amber-400">{tasks.filter(t => t.category === "SHTF" && t.priority === "high" && t.status === "pending").length} High</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Total Items</span>
                                    <span className="text-white">{tasks.filter(t => t.category === "SHTF").length}</span>
                                </div>
                            </div>
                        </div>
                        
                        {/* Documents Library Card */}
                        <div 
                            onClick={() => { setView("documents"); setSelectedClient(null); }}
                            className="client-card glass rounded-xl p-3 md:p-5 cursor-pointer"
                            style={{ borderTop: `3px solid #6366f1` }}
                        >
                            <div className="flex items-center justify-between mb-2 md:mb-3">
                                <h3 className="font-semibold text-base md:text-lg">üìö Documents Library</h3>
                                <div className="text-xs bg-indigo-900/50 text-indigo-400 px-2 py-1 rounded">
                                    {documentsLibrary.length} files
                                </div>
                            </div>
                            <div className="space-y-2 text-sm">
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Ov Theory (Legacy)</span>
                                    <span className="text-purple-400">{documentsLibrary.filter(d => d.type === "Ov Theory (Legacy)").length}</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Chohan</span>
                                    <span className="text-pink-400">{documentsLibrary.filter(d => d.type === "Chohan").length}</span>
                                </div>
                                <div className="flex justify-between">
                                    <span className="text-gray-400">Research</span>
                                    <span className="text-blue-400">{documentsLibrary.filter(d => d.type === "Research").length}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Search Results or Regular View */}
                    {searchQuery ? (
                        <>
                            <h2 className="text-lg md:text-xl font-semibold mb-3">üîç Search Results</h2>
                            <div className="glass rounded-xl divide-y divide-gray-800 mb-6">
                                {filteredTasks.filter(t => t.status === "pending").map(task => (
                                    <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} />
                                ))}
                                {filteredTasks.filter(t => t.status === "pending").length === 0 && (
                                    <div className="p-4 text-gray-500">No matching tasks found</div>
                                )}
                            </div>
                        </>
                    ) : (
                        <>
                            {/* Quick Stats Row */}
                            <div className="grid grid-cols-3 gap-3 mb-6">
                                <div className="glass rounded-lg p-3 text-center">
                                    <div className="text-xl font-bold text-red-400">
                                        {businessTasks.filter(t => t.priority === "high").length}
                                    </div>
                                    <div className="text-xs text-gray-400">High Priority</div>
                                </div>
                                <div className="glass rounded-lg p-3 text-center">
                                    <div className="text-xl font-bold text-amber-400">
                                        {businessTasks.filter(t => t.due.includes("This week")).length}
                                    </div>
                                    <div className="text-xs text-gray-400">Due This Week</div>
                                </div>
                                <div className="glass rounded-lg p-3 text-center">
                                    <div className="text-xl font-bold text-green-400">
                                        {tasks.filter(t => t.status === "done").length}
                                    </div>
                                    <div className="text-xs text-gray-400">Completed</div>
                                </div>
                            </div>
                            
                            {/* Today's Priorities */}
                            <h2 className="text-lg md:text-xl font-semibold mb-3 flex items-center gap-2">
                                <span>üî•</span> Due Today/Tonight
                                <span className="text-sm font-normal text-gray-400">({businessTasks.filter(t => t.due.includes("Today") || t.due.includes("Tonight")).length})</span>
                            </h2>
                            <div className="glass rounded-xl divide-y divide-gray-800 mb-6">
                                {businessTasks.filter(t => t.due.includes("Today") || t.due.includes("Tonight")).map(task => (
                                    <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} />
                                ))}
                                {businessTasks.filter(t => t.due.includes("Today") || t.due.includes("Tonight")).length === 0 && (
                                    <div className="p-4 text-gray-500">Nothing due today üéâ</div>
                                )}
                            </div>
                            
                            {/* This Week */}
                            <h2 className="text-lg md:text-xl font-semibold mb-3 flex items-center gap-2">
                                <span>üìÖ</span> Due This Week
                                <span className="text-sm font-normal text-gray-400">({businessTasks.filter(t => t.due.includes("This week") && !t.due.includes("Today")).length})</span>
                            </h2>
                            <div className="glass rounded-xl divide-y divide-gray-800">
                                {businessTasks.filter(t => t.due.includes("This week") && !t.due.includes("Today")).map(task => (
                                    <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} />
                                ))}
                                {businessTasks.filter(t => t.due.includes("This week") && !t.due.includes("Today")).length === 0 && (
                                    <div className="p-4 text-gray-500">Nothing else this week</div>
                                )}
                            </div>
                        </>
                    )}
                </div>
            );
        }
        
        function ClientDetail({ clientKey, onBack, tasks, onToggleTask }) {
            const client = clientsData[clientKey];
            const clientTasks = tasks.filter(t => t.category === clientKey && t.status === "pending");
            
            return (
                <div className="slide-in">
                    <button onClick={onBack} className="mb-4 text-gray-400 hover:text-white flex items-center gap-2">
                        ‚Üê Back to Dashboard
                    </button>
                    
                    <div className="flex items-center gap-4 mb-6">
                        <div className="w-3 h-12 rounded" style={{ background: client.color }}></div>
                        <div>
                            <h1 className="text-3xl font-bold">{client.name}</h1>
                            <p className="text-gray-400">
                                {client.isJob ? "Employment" : client.isCommunity ? `Community Role - ${client.role}` : client.isInternal ? "Your Company" : "Client"} ‚Ä¢ {clientTasks.length} tasks
                            </p>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6">
                        {/* Info Panel */}
                        <div className="col-span-1 space-y-4">
                            {client.isJob ? (
                                <div className="glass rounded-xl p-5">
                                    <h3 className="font-semibold mb-4 text-gray-300">Employment</h3>
                                    <div className="space-y-3">
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Company</span>
                                            <span className="font-semibold">{client.name}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Industry</span>
                                            <span className="text-gray-300">Pharma/Biotech</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Active Tasks</span>
                                            <span className="text-green-400">{clientTasks.length}</span>
                                        </div>
                                    </div>
                                </div>
                            ) : client.isCommunity ? (
                                <div className="glass rounded-xl p-5">
                                    <h3 className="font-semibold mb-4 text-gray-300">Community Service</h3>
                                    <div className="space-y-3">
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Organization</span>
                                            <span className="font-semibold">{client.name}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Your Role</span>
                                            <span className="text-amber-400">{client.role}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Active Tasks</span>
                                            <span className="text-white">{clientTasks.length}</span>
                                        </div>
                                    </div>
                                </div>
                            ) : client.isInternal ? (
                                <div className="glass rounded-xl p-5">
                                    <h3 className="font-semibold mb-4 text-gray-300">Your Company</h3>
                                    <div className="space-y-3">
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Name</span>
                                            <span className="font-semibold">{client.name}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Services</span>
                                            <span className="text-pink-400">AI Audits, Agents</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Admin Tasks</span>
                                            <span className="text-white">{clientTasks.length}</span>
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <div className="glass rounded-xl p-5">
                                    <h3 className="font-semibold mb-4 text-gray-300">Financials</h3>
                                    <div className="space-y-3">
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Revenue</span>
                                            <span className="font-semibold">${client.revenue.toLocaleString()}</span>
                                        </div>
                                        <div className="flex justify-between">
                                            <span className="text-gray-400">Costs</span>
                                            <span className="money-negative">-${client.costs.toLocaleString()}</span>
                                        </div>
                                        <div className="border-t border-gray-700 pt-3 flex justify-between">
                                            <span className="text-gray-300">Profit</span>
                                            <span className="font-bold money-positive text-lg">${client.profit.toLocaleString()}</span>
                                        </div>
                                        <div className="flex justify-between text-sm">
                                            <span className="text-gray-400">Margin</span>
                                            <span className="text-indigo-400">{((client.profit/client.revenue)*100).toFixed(1)}%</span>
                                        </div>
                                    </div>
                                </div>
                            )}
                            
                            <div className="glass rounded-xl p-5">
                                <h3 className="font-semibold mb-4 text-gray-300">Contacts</h3>
                                <div className="space-y-3">
                                    {client.contacts.map((contact, i) => (
                                        <div key={i} className="text-sm">
                                            <div className="font-medium">{contact.name}</div>
                                            <div className="text-gray-500">{contact.role}</div>
                                            <div className="text-gray-600 text-xs">{contact.email}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                        
                        {/* Tasks */}
                        <div className="col-span-1">
                            <div className="glass rounded-xl p-5">
                                <h3 className="font-semibold mb-4 text-gray-300">Tasks</h3>
                                <div className="space-y-2">
                                    {clientTasks.map(task => (
                                        <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} compact />
                                    ))}
                                    {clientTasks.length === 0 && (
                                        <div className="text-gray-500 text-sm">No pending tasks</div>
                                    )}
                                </div>
                            </div>
                        </div>
                        
                        {/* Research */}
                        <div className="col-span-1">
                            <div className="glass rounded-xl p-5 mb-4">
                                <h3 className="font-semibold mb-4 text-gray-300">Research & Notes</h3>
                                <div className="space-y-3">
                                    {client.research.map((item, i) => (
                                        <div key={i} className="bg-gray-800/50 rounded-lg p-3">
                                            <div className="font-medium text-sm mb-1">{item.title}</div>
                                            <div className="text-gray-500 text-xs mb-1">{item.date}</div>
                                            <div className="text-gray-400 text-sm">{item.summary}</div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                            
                            {/* Meeting Notes */}
                            <div className="glass rounded-xl p-5">
                                <h3 className="font-semibold mb-4 text-gray-300 flex items-center gap-2">
                                    <span>üìù</span> Meeting Notes
                                </h3>
                                <div className="space-y-3">
                                    {client.meetingNotes && client.meetingNotes.length > 0 ? (
                                        client.meetingNotes.map((note, i) => (
                                            <div key={i} className="bg-gray-800/50 rounded-lg p-3 border-l-2 border-indigo-500">
                                                <div className="flex justify-between items-start mb-1">
                                                    <div className="font-medium text-sm">{note.date}</div>
                                                    <div className="text-xs text-gray-500">{note.attendees}</div>
                                                </div>
                                                <div className="text-gray-300 text-sm">{note.notes}</div>
                                            </div>
                                        ))
                                    ) : (
                                        <div className="text-gray-500 text-sm italic">No meeting notes yet</div>
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        function TaskItem({ task, onToggle, compact }) {
            return (
                <div className={`flex items-start gap-3 p-3 rounded-lg hover:bg-gray-800/30 transition priority-${task.priority}`}>
                    <input 
                        type="checkbox" 
                        checked={task.status === "done"}
                        onChange={onToggle}
                        className="mt-1 w-4 h-4 rounded border-gray-600 bg-gray-700 text-indigo-600"
                    />
                    <div className="flex-1">
                        <div className={`${task.status === "done" ? "line-through text-gray-500" : "text-gray-200"} ${compact ? "text-sm" : ""}`}>
                            {task.title}
                        </div>
                        {!compact && (
                            <div className="flex items-center gap-2 mt-1 flex-wrap">
                                <span className={`text-xs px-2 py-0.5 rounded ${
                                    task.priority === "high" ? "bg-red-900/30 text-red-400" :
                                    task.priority === "medium" ? "bg-amber-900/30 text-amber-400" :
                                    "bg-green-900/30 text-green-400"
                                }`}>{task.priority}</span>
                                <span className="text-xs text-gray-500">{task.due}</span>
                                {task.estimatedTime && (
                                    <span className="text-xs text-indigo-400">‚è±Ô∏è {task.estimatedTime}m</span>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        }
        
        function PersonalView({ tasks, onToggleTask }) {
            const personalTasks = tasks.filter(t => t.type === "personal");
            const pending = personalTasks.filter(t => t.status === "pending");
            const done = personalTasks.filter(t => t.status === "done");
            
            return (
                <div className="slide-in">
                    <h2 className="text-2xl font-bold mb-6">Personal Life</h2>
                    
                    <div className="grid grid-cols-3 gap-4 mb-8">
                        <div className="glass rounded-xl p-5">
                            <div className="text-3xl font-bold text-pink-400">{pending.length}</div>
                            <div className="text-sm text-gray-400 mt-1">To Do</div>
                        </div>
                        <div className="glass rounded-xl p-5">
                            <div className="text-3xl font-bold text-green-400">{done.length}</div>
                            <div className="text-sm text-gray-400 mt-1">Done</div>
                        </div>
                        <div className="glass rounded-xl p-5">
                            <div className="text-3xl font-bold text-indigo-400">{personalTasks.length}</div>
                            <div className="text-sm text-gray-400 mt-1">Total</div>
                        </div>
                    </div>
                    
                    <div className="glass rounded-xl divide-y divide-gray-800">
                        {pending.map(task => (
                            <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} />
                        ))}
                    </div>
                </div>
            );
        }
        
        function SHTFView({ tasks, onToggleTask }) {
            const shtfTasks = tasks.filter(t => t.category === "SHTF");
            const pending = shtfTasks.filter(t => t.status === "pending");
            const done = shtfTasks.filter(t => t.status === "done");
            const highPriority = pending.filter(t => t.priority === "high");
            
            const categories = {
                "üçñ Food & Water": shtfTasks.filter(t => t.title.includes("food") || t.title.includes("Water") || t.title.includes("seeds")),
                "‚ö° Power & Light": shtfTasks.filter(t => t.title.includes("generator") || t.title.includes("Flashlight") || t.title.includes("batteries") || t.title.includes("radio")),
                "üè• Medical": shtfTasks.filter(t => t.title.includes("antibiotics") || t.title.includes("First aid")),
                "üîß Tools & Gear": shtfTasks.filter(t => t.title.includes("stove") || t.title.includes("maps") || t.title.includes("Multi-tool") || t.title.includes("pump") || t.title.includes("Fire starters")),
                "üí∞ Financial": shtfTasks.filter(t => t.title.includes("cash") || t.title.includes("Gold")),
                "üõ°Ô∏è Defense": shtfTasks.filter(t => t.title.includes("armor") || t.title.includes("Defense")),
                "üì± Comms": shtfTasks.filter(t => t.title.includes("radio") || t.title.includes("Faraday")),
                "üß¥ Supplies": shtfTasks.filter(t => t.title.includes("Hygiene") || t.title.includes("gear") || t.title.includes("fuel") || t.title.includes("backpack"))
            };
            
            return (
                <div className="slide-in">
                    <div className="flex items-center gap-3 mb-6">
                        <span className="text-4xl">üéí</span>
                        <div>
                            <h2 className="text-2xl font-bold">Emergency Preparedness</h2>
                            <p className="text-gray-400 text-sm">When the world goes sideways...</p>
                        </div>
                    </div>
                    
                    <div className="bg-red-900/20 border border-red-800 rounded-xl p-4 mb-6">
                        <div className="flex items-center justify-between">
                            <span className="text-red-300">‚ö†Ô∏è High Priority Items</span>
                            <span className="text-2xl font-bold text-red-400">{highPriority.length}</span>
                        </div>
                    </div>
                    
                    <div className="grid grid-cols-2 md:grid-cols-4 gap-3 mb-8">
                        <div className="glass rounded-xl p-4 text-center">
                            <div className="text-2xl font-bold text-red-400">{pending.length}</div>
                            <div className="text-xs text-gray-400">Need to Get</div>
                        </div>
                        <div className="glass rounded-xl p-4 text-center">
                            <div className="text-2xl font-bold text-green-400">{done.length}</div>
                            <div className="text-xs text-gray-400">Acquired</div>
                        </div>
                        <div className="glass rounded-xl p-4 text-center">
                            <div className="text-2xl font-bold text-amber-400">{highPriority.length}</div>
                            <div className="text-xs text-gray-400">High Priority</div>
                        </div>
                        <div className="glass rounded-xl p-4 text-center">
                            <div className="text-2xl font-bold text-indigo-400">{Math.round((done.length/shtfTasks.length)*100) || 0}%</div>
                            <div className="text-xs text-gray-400">Ready</div>
                        </div>
                    </div>
                    
                    {Object.entries(categories).map(([catName, catTasks]) => (
                        catTasks.filter(t => t.status === "pending").length > 0 && (
                            <div key={catName} className="mb-6">
                                <h3 className="text-lg font-semibold mb-3 text-gray-300">{catName}</h3>
                                <div className="glass rounded-xl divide-y divide-gray-800">
                                    {catTasks.filter(t => t.status === "pending").map(task => (
                                        <TaskItem key={task.id} task={task} onToggle={() => onToggleTask(task.id)} />
                                    ))}
                                </div>
                            </div>
                        )
                    ))}
                    
                    {pending.length === 0 && (
                        <div className="text-center py-8 text-gray-500">
                            <span className="text-4xl">üéâ</span>
                            <p className="mt-2">You're fully prepped! The apocalypse can wait.</p>
                        </div>
                    )}
                </div>
            );
        }
        
        // MAIN APP
        function App() {
            const [view, setView] = useState("dashboard"); // dashboard, client, personal
            const [selectedClient, setSelectedClient] = useState(null);
            const [tasks, setTasks] = useState(allTasks);
            
            const toggleTask = (id) => {
                setTasks(tasks.map(t => t.id === id ? { ...t, status: t.status === "done" ? "pending" : "done" } : t));
            };
            
            const handleSelectClient = (clientKey) => {
                if (clientKey === 'shtf') {
                    setSelectedClient(null);
                    setView("shtf");
                } else {
                    setSelectedClient(clientKey);
                    setView("client");
                }
            };
            
            const handleBack = () => {
                setView("dashboard");
                setSelectedClient(null);
            };
            
            return (
                <div className="max-w-7xl mx-auto p-3 md:p-6">
                    {/* Header */}
                    <div className="flex flex-col md:flex-row md:items-center justify-between mb-4 md:mb-8 gap-3">
                        <div>
                            <h1 className="text-2xl md:text-4xl font-bold gradient-text">Ov</h1>
                            <p className="text-sm md:text-base text-gray-400">Command Center</p>
                        </div>
                        <div className="flex items-center gap-2">
                            <div className="glass px-3 py-1.5 md:px-4 md:py-2 rounded-full flex items-center gap-2 text-xs md:text-sm">
                                <div className="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                                <span className="text-gray-300">Aiden Active</span>
                            </div>
                        </div>
                    </div>
                    
                    {/* Navigation Dropdown */}
                    <div className="mb-6 md:mb-8">
                        <label className="block text-xs text-gray-400 mb-2 md:hidden">Select View:</label>
                        <select 
                            value={view === "client" ? selectedClient : view}
                            onChange={(e) => {
                                const val = e.target.value;
                                if (val === "dashboard") {
                                    setView("dashboard");
                                    setSelectedClient(null);
                                } else if (val === "personal") {
                                    setView("personal");
                                    setSelectedClient(null);
                                } else if (val === "shtf") {
                                    setView("shtf");
                                    setSelectedClient(null);
                                } else if (val === "documents") {
                                    setView("documents");
                                    setSelectedClient(null);
                                } else {
                                    handleSelectClient(val);
                                }
                            }}
                            className="w-full bg-gray-800 text-white px-4 py-3 md:py-2 rounded-lg border border-gray-600 focus:outline-none focus:border-indigo-500 text-base md:text-sm appearance-none cursor-pointer"
                            style={{ WebkitAppearance: 'menulist' }}
                        >
                            <option value="dashboard">üìä Dashboard - Overview</option>
                            <optgroup label="üíº Consulting Clients">
                                <option value="FACE">FACE Amusement ($3,700/mo)</option>
                                <option value="Adtime">Adtime Marketing ($1,600/mo)</option>
                                <option value="AFT">Almost Free Teeth ($3,100/mo)</option>
                            </optgroup>
                            <optgroup label="üè¢ Your Business">
                                <option value="Chohan">Chohan (AI Audits & Agents)</option>
                            </optgroup>
                            <optgroup label="üíª Employment">
                                <option value="AbbVie">AbbVie (Job)</option>
                            </optgroup>
                            <optgroup label="ü§ù Community">
                                <option value="Jamaat">Chicago Jamaat (Motamid)</option>
                            </optgroup>
                            <option value="personal">üè† Personal Life</option>
                            <option value="shtf">üéí Emergency Prep (SHTF)</option>
                            <option value="documents">üìö Documents Library</option>
                        </select>
                    </div>
                    
                    {/* Content */}
                    {view === "dashboard" && (
                        <Dashboard 
                            onSelectClient={handleSelectClient} 
                            tasks={tasks} 
                            onToggleTask={toggleTask}
                        />
                    )}
                    {view === "client" && selectedClient && (
                        <ClientDetail 
                            clientKey={selectedClient} 
                            onBack={handleBack}
                            tasks={tasks}
                            onToggleTask={toggleTask}
                        />
                    )}
                    {view === "personal" && (
                        <PersonalView tasks={tasks} onToggleTask={toggleTask} />
                    )}
                    {view === "documents" && (
                        <DocumentsView />
                    )}
                    {view === "shtf" && (
                        <SHTFView tasks={tasks} onToggleTask={toggleTask} />
                    )}
                    
                    {/* Floating Quick Add Button */}
                    <button 
                        onClick={() => alert("Quick add coming soon! For now, tell Aiden what task to add.")}
                        className="fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full shadow-lg shadow-indigo-500/30 flex items-center justify-center text-2xl transition transform hover:scale-110 z-50"
                    >
                        +
                    </button>
                </div>
            );
        }
        
        function DocumentsView() {
            const [filter, setFilter] = useState("all");
            
            const filteredDocs = filter === "all" 
                ? documentsLibrary 
                : documentsLibrary.filter(d => d.type.toLowerCase().includes(filter.toLowerCase()) || d.tags.some(t => t.toLowerCase().includes(filter.toLowerCase())));
            
            return (
                <div className="slide-in">
                    <div className="flex items-center gap-3 mb-6">
                        <span className="text-4xl">üìö</span>
                        <div>
                            <h2 className="text-2xl font-bold">Documents Library</h2>
                            <p className="text-gray-400 text-sm">All presentations, research, and templates</p>
                        </div>
                    </div>
                    
                    {/* Filter Buttons */}
                    <div className="flex gap-2 mb-6 flex-wrap">
                        {["all", "Ov Theory", "Chohan", "Research", "Technical"].map(f => (
                            <button
                                key={f}
                                onClick={() => setFilter(f)}
                                className={`px-3 py-1.5 rounded-lg text-xs font-medium transition ${
                                    filter === f ? "bg-indigo-600 text-white" : "bg-gray-800 text-gray-400 hover:bg-gray-700"
                                }`}
                            >
                                {f === "all" ? "All Documents" : f}
                            </button>
                        ))}
                    </div>
                    
                    {/* Documents Grid */}
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                        {filteredDocs.map(doc => (
                            <div key={doc.id} className="glass rounded-xl p-5 hover:border-indigo-500/50 transition cursor-pointer">
                                <div className="flex items-start justify-between mb-3">
                                    <span className="text-2xl">üìÑ</span>
                                    <span className={`text-xs px-2 py-1 rounded ${
                                        doc.type === "Ov Theory (Legacy)" ? "bg-purple-900/50 text-purple-400" :
                                        doc.type === "Chohan" ? "bg-pink-900/50 text-pink-400" :
                                        doc.type === "Research" ? "bg-blue-900/50 text-blue-400" :
                                        "bg-gray-800 text-gray-400"
                                    }`}>{doc.type}</span>
                                </div>
                                <h3 className="font-semibold text-lg mb-2">{doc.title}</h3>
                                <p className="text-sm text-gray-400 mb-3">{doc.description}</p>
                                <div className="flex flex-wrap gap-2 mb-3">
                                    {doc.tags.map(tag => (
                                        <span key={tag} className="text-xs bg-gray-800 px-2 py-1 rounded text-gray-500">#{tag}</span>
                                    ))}
                                </div>
                                <div className="flex items-center justify-between text-xs text-gray-500">
                                    <span>{doc.client}</span>
                                    <span>{doc.date}</span>
                                </div>
                            </div>
                        ))}
                    </div>
                    
                    {filteredDocs.length === 0 && (
                        <div className="text-center py-12 text-gray-500">
                            <span className="text-4xl">üì≠</span>
                            <p className="mt-2">No documents found</p>
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>